<div class="auth-container">
  <div class="auth-card">
    <h2>{{ mode === 'login' ? 'Login' : 'Sign Up' }}</h2>

    <form #authForm= "ngForm" (ngSubmit)="onSubmit(authForm)">
      <div *ngIf="mode === 'signup'">
        <input type="text" placeholder="Username" [(ngModel)]="form.username" name="username" required 
          #username="ngModel" required 
          minlength="3"
          maxlength="20"
          [class.invalid]="username.invalid && username.touched"
        />
         <div class="error-message" *ngIf="username.invalid && username.touched">
          <small *ngIf="username.errors?.['required']">Username is required</small>
          <small *ngIf="username.errors?.['minlength']">Username must be at least 3 characters</small>
        </div>
      </div>

      <div>
        <input 
          type="tel" 
          placeholder="Phone Number" 
          [(ngModel)]="form.phoneNumber" 
          name="phoneNumber" 
          #phoneNumber="ngModel"
          required 
          pattern="[0-9]{10}"
          [class.invalid]="phoneNumber.invalid && phoneNumber.touched"
        />
        <div class="error-message" *ngIf="phoneNumber.invalid && phoneNumber.touched">
          <small *ngIf="phoneNumber.errors?.['required']">Phone number is required</small>
          <small *ngIf="phoneNumber.errors?.['pattern']">Phone number must be 10 digits</small>
        </div>
      </div>

 
      <div>
        <input 
          type="password" 
          placeholder="Password" 
          [(ngModel)]="form.password" 
          name="password" 
          #password="ngModel"
          required 
          minlength="6"
          [class.invalid]="password.invalid && password.touched"
        />
        <div class="error-message" *ngIf="password.invalid && password.touched">
          <small *ngIf="password.errors?.['required']">Password is required</small>
          <small *ngIf="password.errors?.['minlength']">Password must be at least 6 characters</small>
        </div>
      </div>

      <button type="submit"  [disabled]='authForm.invalid'>{{ mode === 'login' ? 'Login' : 'Sign Up' }}</button>
    </form>

    <p (click)="toggleMode()">
      {{ mode === 'login' ? 'New user? Sign Up' : 'Already have an account? Login' }}
    </p>
  </div>
</div>
